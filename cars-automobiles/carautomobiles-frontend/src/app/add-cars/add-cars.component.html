<div class="container py-5">
    <div class="row">
        <div class="col">
            <h2 class="d-flex justify-content-center" *ngIf="!isActive" style="margin-top: 10px;">Add car to the inventory</h2>
            <h2 class="d-flex justify-content-center" *ngIf="isActive" style="margin-top: 10px;">Update Car Info</h2>

        </div>
    </div>
    <div class="row">
        <div class="col-md-9 col-sm-9 col-lg-9  col-xl-9 mx-auto">
            <div class="card bg-light" style="width: 100%;">
                <div class="card-body">
                    <form [formGroup]="addCar" id="addCar" novalidate="">
                        <div class="form-group">
                            <input type="text" name="carName" id="carName" placeholder="Car Manufacturer"
                                class="form-control" formControlName="carName">
                            <div *ngIf="(addCar.get('carName').invalid && onInit) || 
                            (addCar.get('carName').invalid && (addCar.get('carName').dirty ||
                            addCar.get('carName').touched))" class="alert alert-danger">
                                <div *ngIf="addCar.get('carName').errors.required">
                                    Please provide car Manufacturer name
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <input type="text" name="modelName" id="modelName" placeholder="Car Model"
                                class="form-control" formControlName="modelName">
                            <div *ngIf="(addCar.get('modelName').invalid && onInit) || 
                            (addCar.get('modelName').invalid && (addCar.get('modelName').dirty ||
                            addCar.get('modelName').touched))" class="alert alert-danger">
                                <div *ngIf="addCar.get('modelName').errors.required">
                                    Please provide car model name
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <textarea name="description" id="description" placeholder="Car description"
                                class="form-control" formControlName="description"></textarea>
                            <div *ngIf="(addCar.get('description').invalid && onInit) || 
                            (addCar.get('description').invalid && (addCar.get('description').dirty ||
                            addCar.get('description').touched))" class="alert alert-danger">
                                <div *ngIf="addCar.get('description').errors.required">
                                    Please provide car description
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <input type="number" name="price" id="price" placeholder="Car Base Price"
                                class="form-control" formControlName="price">
                            <div *ngIf="(addCar.get('price').invalid && onInit) || 
                            (addCar.get('price').invalid && (addCar.get('price').dirty ||
                            addCar.get('price').touched))" class="alert alert-danger">
                                <div *ngIf="addCar.get('price').errors.required">
                                    Please provide car base price
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="custom-file">
                                <div class="custom-file">
                                    <input type="file" class="custom-file-input" id="image"
                                        (change)="fileProgress($event)" formControlName="image">
                                    <label class="custom-file-label" for="image">Choose car preview image</label>
                                    <div *ngIf="(addCar.get('image').invalid && onInit) || 
                            (addCar.get('image').invalid && (addCar.get('image').dirty ||
                            addCar.get('image').touched))" class="alert alert-danger">
                                        <div *ngIf="addCar.get('image').errors.required">
                                            Please choose an image
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" *ngIf="previewUrl">
                            <label>Image Preview</label>
                            <div>
                                <div class="image-preview mb-3">
                                    <img [src]="previewUrl" height="300" />
                                </div>
                            </div>

                        </div>

                        <div class="row">
                            <div class="col mx-auto" >
                                <button class="btn btn-primary" *ngIf="!isActive" (click)="onSubmit()" style="padding: 10px;">Submit</button>
                            
                                <button class="btn btn-primary" *ngIf="isActive" (click)="update()" style="margin: 10px;">Update</button>
                            
                                <button class="btn btn-primary" *ngIf="isActive" (click)="delete()" style="margin: 10px;">Delete</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>